{% extends 'base.html' %}

{% block content %}
<h1>Search location</h1>

<input id="myInput"/>

<button onclick="weather()">Search</button>

<pre id="cityData"></pre>

<script>
    function weather(){
        const city = document.querySelector("#myInput").value;
        
        fetch(`http://api.weatherapi.com/v1/current.json?key=98c11e6802514f0fbdf170048242804&q=${city}&aqi=no`)
            .then(data => data.json())
            .then(data => {
                document.querySelector("#cityData").innerText = JSON.stringify(data, null, 2);
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
    }
</script>

{% endblock %}
